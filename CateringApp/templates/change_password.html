{% extends 'index.html' %} {% load static %} {% block body %}
<div
  class="container my-3"
  align="center"
  style="border: 1px solid black; padding: 10px; width: 50%"
>
  <h4>Change Password</h4>
  <div class="contac-bottom">
    <div class="row justify-content-center">
      <div class="col-md-12">
        <form action="" method="post">
          {% csrf_token %}
          {% if request.GET.action != 'forgot-password' %}
            <div class="col-md-12">
              <label for="">Old Password</label>
              <input
                type="password"
                name="old"
                id="old-password"
                class="form-control"
                placeholder="Old Password*"
                {% if request.GET.action != 'forgot-password' %}
                required
                {% endif %}
              />
            </div>
          {% endif %}
          <br />
          <div class="col-md-12">
            <label for="">New Password</label>
            <input
              type="password"
              name="new"
              id="new-password"
              class="form-control"
              placeholder="New Password*"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}" 
              required
            />
          </div>
          <br />

          <div class="col-md-12">
            <label for="">Confirm Password</label>
            <input
              type="password"
              name="confirm"
              class="form-control"
              placeholder="Confirm Password*"
              required
            />
          </div>
          <br />
          <button type="submit" class="lab-btn col-12">
            <span>Submit</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  var passwordInput = document.getElementById("new-password");
  passwordInput.addEventListener("input", function() {
    if (passwordInput.validity.patternMismatch) {
      passwordInput.setCustomValidity("Password must contain at least 8 characters including at least one digit, one lowercase letter, one uppercase letter, and one special character.");
    } 
    else {
      passwordInput.setCustomValidity("");
    }
  });
</script>
{% include 'footer.html' %}
{% endblock %}
